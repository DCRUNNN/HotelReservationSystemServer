package uidriver.order;

import service.Order.CreateOrder.CreateOrderService;
import service.Order.CreateOrder.CreateOrderServiceImpl;

// ok

public class CreateOrderDriver {

	public static void main(String args[]){
		
	    demo1();
	    demo2();
	    demo3();
		demo4();
		demo5();
		demo6();
	}

	private static void demo6() {
		
		String clientID = "0000001";
		String hotelID = "00001";
		CreateOrderService service = new CreateOrderServiceImpl(clientID,hotelID);
		
		String type = "标准家庭间";
		String rooms[] = service.getAllRoomNumber(type).split("/");
		for(String str:rooms){
			System.out.println(str);
		}//输出一下标准家庭间的号码
		
		String room = rooms[0];
		System.out.println(service.createOrder(type, room)?"生成订单成功！":"生成订单失败！");
	}

	private static void demo5() {
	
		//客户在另外一间酒店生成订单
		String clientID = "0000001";
		String hotelID = "00002";
		CreateOrderService service = new CreateOrderServiceImpl(clientID,hotelID);
		
		String type = "标准单人间";
		String rooms[] = service.getAllRoomNumber(type).split("/");
		for(String str:rooms){
			System.out.println(str);
		}//输出一下单人间的房间号码
		
		String room = rooms[0];
		System.out.println(service.createOrder(type, room)?"生成订单成功！":"生成订单失败！");
	}

	private static void demo4() {
		
		//当客户的信用点低于0的时候 会提示生成订单失败
		String clientID = "0000002";
		String hotelID = "00001";
		CreateOrderService service = new CreateOrderServiceImpl(clientID,hotelID);
		
		System.out.println(service.checkCreditPoint());
	}

	private static void demo3() {
		
		//在酒店生成没有号码的订单
		String clientID = "0000001";
		String hotelID = "00001";
	    CreateOrderService service = new CreateOrderServiceImpl(clientID,hotelID);
		
	    String type = "豪华双人间";
	    String rooms[] = service.getAllRoomNumber(type).split("/");
	    System.out.println(rooms[0]);
	    System.out.println(rooms.length);
	    System.out.println(rooms.length==0?"没有适合的房间":"请选择房间！");
	}

	private static void demo2() {
		
		//在酒店生成一个两个房间的订单
		String clientID = "0000001";
		String hotelID = "00001";
	    CreateOrderService service = new CreateOrderServiceImpl(clientID,hotelID);
		
	    String type = "豪华双人间";
	    String rooms[] = service.getAllRoomNumber(type).split("/");
	    String roomNumber = rooms[0]+"/"+rooms[1];
	    
	    System.out.println(service.checkCreditPoint()?"信用值大于0":"信用值小于0");
	    System.out.println("最低价格:"+service.getPriceByStrategy(roomNumber));
	    
	    System.out.println(service.createOrder( type, roomNumber)?"生成订单成功！":"生成订单失败！");
	    
	}

	private static void demo1() {
		
		//在酒店生成一个单一房间的订单 
		String clientID = "0000001";
		String hotelID = "00001";
		CreateOrderService service = new CreateOrderServiceImpl(clientID, hotelID);
		
		String typeAndPrice = service.getRoomTypeAndPrice();
		String types [] = typeAndPrice.split("/");
		for(String str:types){
			System.out.println(str.split("[|]")[0]+":"+str.split("[|]")[1]);
		}//把房间的所有类型和价格输出
		
		String type = types[1].split("[|]")[0];
		String rooms[] = service.getAllRoomNumber(type).split("/");
		for(String str:rooms){
			System.out.println(str);//把所有的房间输出
		}
		
		String room = rooms[0];//选择第一间房
		
		System.out.println(service.checkCreditPoint()?"信用值大于0":"信用值小于0");
		double discount = service.getPriceByStrategy(room);
		System.out.println("最低价格："+discount);
		
		System.out.println(service.createOrder( type, room)?"生成订单成功！":"生成订单失败！");
		
	}
}
